# base inage 
FROM node:lts-alpine AS build

# Create app directory
WORKDIR /anjezha

# update npm to latest version
RUN npm install -g npm@10.8.3
# copy app dependencies
COPY  package.json .

# install app dependencies
RUN npm install

# copy app source code
COPY . .

# build app 
RUN npm run build

# production environment
EXPOSE 5000

# start app
CMD ["node", "start"]